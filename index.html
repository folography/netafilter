---
layout: default
map: true
title: Netafilter - Map
---

<div class='col12 clearfix'>

  <div id='map' class=''></div>

  <div id='sidebar' class='col3 pad2 dark fill-navy pin-left'>

    <h1 class='fancy'><a href='http://netafilter.in'>Netafilter
        <span class='tagline'>MP Info</span></a>
    </h1>


    <p>Find out about your representative in the <a href="https://en.wikipedia.org/wiki/List_of_members_of_the_16th_Lok_Sabha">16th Lok Sabha</a>. All the data is <a href="https://github.com/folography/visavis/tree/gh-pages/data">open</a>.</p>

    <div class='rounded-toggle inline space-bottom2'>
      <a class='active' href='#'>Map</a>
      <a href='chart.html'>Charts</a>
      <a href='about.html'>About</a>
    </div>

    <div data-map='legend'>

      <h3><a class="active" href="#" data-map-layer='myneta-loksabha' onclick="mapToggle(this)">Parliamentary Constituencies</a></h3>


      <ul class="keyline-top space-bottom1">
        <li>
          <a data-map-layer='myneta-loksabha data' data-map-layer-field='myneta Education Points' href="#" class="truncate strong bloxk small active" onclick='mapSetFilter(this);'>
              Educational Qualification</a>
        </li>
        <li>
          <a data-map-layer='assets' href="#" class="truncate strong bloxk small" onclick='mapToggle(this);'>
              Declared Assets</a>
        </li>
        <li>
          <a data-map-layer='criminal' href="#" class="truncate strong bloxk small" onclick='mapToggle(this);'>
              Criminal Cases</a>
        </li>
      </ul>

      <h3>Poltical Party</h3>

      <ul class="keyline-top space-bottom1">
        <li>
          <a data-map-layer='myneta-loksabha mask' data-map-layer-filter='["==", "myneta Party", "-1"]' href="#" class="truncate strong bloxk small active" onclick='mapFilter(this);'>
              All</a>
        </li>
        <li>
          <a data-map-layer='myneta-loksabha mask' data-map-layer-filter='["!=", "myneta Party", "BJP"]' href="#" class="truncate strong bloxk small" onclick='mapFilter(this);'>
              BJP</a>
        </li>
        <li>
          <a data-map-layer='myneta-loksabha mask' data-map-layer-filter='["!=", "myneta Party", "INC"]' href="#" class="truncate strong bloxk small" onclick='mapFilter(this);'>
              INC</a>
        </li>
        <li>
          <a data-map-layer='myneta-loksabha mask' data-map-layer-filter='["!=", "myneta Party", "AAP"]' href="#" class="truncate strong bloxk small" onclick='mapFilter(this);'>
              AAP</a>
        </li>
      </ul>

    </div>
    <a href='https://github.com/folography/visavis/issues' class='button short stroke quiet icon alert'>Site has issues..</a>

  </div>


</div>


<div id='map-tooltip'>
</div>

<!-- Escape ractive handlebars from Jekyll parsing -->
{% raw %}
<script id='myneta-template' type='text/ractive'>
  {{#if (typeof id === 'undefined') }}
  <p>
    Select a constituency for details
  </p>
  {{else}}
  <table width=100%>

    <tr>
      <td colspan=2>
        <div class='dot micro fl {{party}} party'>
          <span>{{party}}</span>
        </div>
        <div class='fl'>
          <div class='candidateName'>{{candidate}}</div>
          <div class='constituencyName'><a href="https://en.wikipedia.org/wiki/{{constituency}}_(Lok_Sabha_constituency)">{{constituency}} ({{state}}) - {{category}}</a></div>
        </div>
      </td>
    </tr>

    <tr>
      <td>
        <div class='label'>No. of Criminal Cases</div>
        <div class='criminalCases value'>{{cases}}</div>
      </td>
      <td>
        <div class='label'>Educational qualification</div>
        <div class='education value'>{{qualification}}</div>
      </td>
    </tr>

    <tr>
      <td>
        <div class='label'>Net Assets (in Rs)</div>
        <div class='netAssets value'>{{assets}}</div>
      </td>
      <td>
        <div class='label'>Liabilities (in Rs)</div>
        <div class='liabilities value'>{{liabilities}}</div>
      </td>
    </tr>

  </table>
  {{/if}}
</script>
{% endraw %}

<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="js/vendor/nv.d3.min.js" charset="utf-8"></script>
<link rel="stylesheet" href="js/vendor/nv.d3.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="/js/mapbox-gl-js-common.js"></script>
<script type="text/javascript" src="/js/map.js"></script>

<script>
  // Load data
  d3.csv("data/myneta-loksabha.csv", function(data) {

    var scatterData = d3.nest()
      .key(function(d) {
        return d['ST_NAME'];
      })
      .entries(data);


    // Parse strings to integers http://learnjsdata.com/read_data.html
    data.forEach(function(d, i) {

      d['myneta Education Points'] = +d['myneta Education Points']
      d['myneta Total Assets'] = +d['myneta Total Assets'] / 10000000
      d['myneta Criminal Case'] = +d['myneta Criminal Case']

    });

    // DEBUG
    window.data = scatterData;
    console.log(window.data);

  });


</script>
