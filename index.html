---
layout: default
map: true
title: Netafilter Map
description: Explore candidate information on interactive maps
---

<div>

  <div id='map' class=''></div>

  <div id='sidebar'>

    <h1><a href='http://netafilter.in'>Netafilter
        <span>MP Info</span></a>
    </h1>

    <div id='layer-toggle'>
      <form>
        <input type="radio" name="layer" value="education" id="education" checked><label for="education">Education</label><br>
        <input type="radio" name="layer" value="assets" id="assets"><label for="assets">Assets</label><br>
        <input type="radio" name="layer" value="criminal-cases" id="criminal-cases"><label for="criminal-cases">Criminal Cases</label>
      </form>
    </div>
    <div class='rounded-toggle'>
      <a class='active' href='#'>Map</a>
      <button>About</button>
    </div>

  </div>
</div>

<div id='map-control'>
  <div id='map-search'>
  </div>
  <div id='map-tooltip'>
  </div>
</div>

<div id='info' style='display:none;'>
  <h2>About NetaFilter</h2>
  <p>Find out about your elected Member of Parliament in the <a href="https://en.wikipedia.org/wiki/List_of_members_of_the_16th_Lok_Sabha">16th Lok Sabha</a><a class='icon github' href="https://github.com/folography/visavis/tree/gh-pages/data">view source</a></p>
</div>

<div id='mapLegend'>
  <div data-map='legend'>

    <h3><a class="active" href="#" data-map-layer='myneta-loksabha' onclick="mapToggle(this)">MP Information</a></h3>

    {% raw %}
      <div id="netafilters"></div>
      <script id='netafilters-template' type='text/ractive'>
        <form method="GET">
          {{#filters}}
            {{>filterlist}}
          {{/}}
        </form>
        {{#partial filterlist}}
          <fieldset><input name='main-filter' id='{{label}}' type="radio" {{#if layer === selectedLayer}}checked{{/if}} on-change="changeFilter:{{layer}},{{mapFilter}}">
          <label  for='{{label}}'>{{label}}</label></fieldset>
          <dl class="keyline-top space-bottom1">
            {{# {parent: layer}}}
              {{#filters}}
                {{> filternode {parent: parent}}}
              {{/}}
            {{/}}
          </dl>
        {{/partial}}
        {{#partial filternode}}
          <dt>
            <input id='{{label}}' type="checkbox" {{#if parent === selectedLayer}}checked{{else}}disabled{{/if}} on-change="changeSubfilter:{{parent}}, {{layer}},{{mapFilter}}">
            <span class='dot' style="background-color:{{color}}"></span>
            <label  for='{{label}}'>{{label}}</label>
            {{#if typeof this.filters !== 'undefined'}}
              {{>filterlist}}
            {{/if}}
          </dt>
        {{/partial}}

      </script>
    {% endraw %}
  </div>
</div>

<!-- Escape ractive handlebars from Jekyll parsing -->
{% raw %}
<script id='myneta-template' type='text/ractive'>
  {{#if (typeof id === 'undefined') }}
  <p>
    Select a constituency for details
  </p>
  {{else}}
  <table width=100%>

    <tr>
      <td colspan=2>
        <div class='dot micro fl {{party}} party'>
          <span>{{party}}</span>
        </div>
        <div class='fl'>
          <div class='candidateName'>{{candidate}}</div>
          <img class='icon-location' src='img/location.png'/>
          <div class='constituencyName'><a href="https://en.wikipedia.org/wiki/{{constituency}}_(Lok_Sabha_constituency)">{{constituency}} ({{state}}) - {{category}}</a></div>
        </div>
      </td>
      <div class='lightGreyLine'></div>
    </tr>


    <tr>
      <td>
        <img class='icon' src='img/criminal-cases.png'/>
        <div class='label'>No. of Criminal Cases</div>
        <div class='criminalCases value'>{{cases}}</div>
      </td>
      <td>
      <img class='icon' src='img/education.png'/>
        <div class='label'>Educational qualification</div>
        <div class='education value'>{{qualification}}</div>
      </td>
    </tr>

    <tr>
      <td>
      <img class='icon' src='img/assets.png'/>
        <div class='label'>Net Assets (in Rs)</div>
        <div class='netAssets value'>{{assets}}</div>
      </td>
      <td>
      <img class='icon' src='img/liabilities.png'/>
        <div class='label'>Liabilities (in Rs)</div>
        <div class='liabilities value'>{{liabilities}}</div>
      </td>
    </tr>

  </table>
  {{/if}}
</script>
{% endraw %}

<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="js/vendor/nv.d3.min.js" charset="utf-8"></script>
<link rel="stylesheet" href="js/vendor/nv.d3.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="/js/mapbox-gl-js-common.js"></script>
<script type="text/javascript" src="/js/build.js"></script>
<!-- <script type="text/javascript" src="/js/app.js"></script> -->

<script>
$( "button" ).click(function() {
  $( "info" ).toggle();
});
</script>
